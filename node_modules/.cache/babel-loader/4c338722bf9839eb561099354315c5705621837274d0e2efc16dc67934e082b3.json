{"ast":null,"code":"import _objectSpread from\"C:/Users/dpipp/HuntingPlanner/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{createContext,useContext,useState,useEffect,useCallback}from'react';import{EmergencyType}from'../types/emergency';import{useHuntingTrip}from'./HuntingTripContext';import{jsx as _jsx}from\"react/jsx-runtime\";const EmergencyContext=/*#__PURE__*/createContext(undefined);export const useEmergency=()=>{const context=useContext(EmergencyContext);if(!context){throw new Error('useEmergency must be used within an EmergencyProvider');}return context;};const defaultSettings={enableGPS:true,enableNotifications:true,emergencyContacts:[],autoShareLocation:true,checkInInterval:30// 30 minutes\n};export const EmergencyProvider=_ref=>{let{children}=_ref;const{currentTrip}=useHuntingTrip();const[alerts,setAlerts]=useState([]);const[settings,setSettings]=useState(defaultSettings);const[currentLocation,setCurrentLocation]=useState(null);const[isTracking,setIsTracking]=useState(false);const[watchId,setWatchId]=useState(null);const generateId=()=>Math.random().toString(36).substr(2,9);// Load saved alerts and settings\nuseEffect(()=>{if(currentTrip){const savedAlerts=localStorage.getItem(\"emergency-alerts-\".concat(currentTrip.id));if(savedAlerts){setAlerts(JSON.parse(savedAlerts).map(alert=>_objectSpread(_objectSpread({},alert),{},{timestamp:new Date(alert.timestamp),resolvedAt:alert.resolvedAt?new Date(alert.resolvedAt):undefined})));}const savedSettings=localStorage.getItem('emergency-settings');if(savedSettings){setSettings(JSON.parse(savedSettings));}}},[currentTrip]);// Save alerts when they change\nuseEffect(()=>{if(currentTrip&&alerts.length>0){localStorage.setItem(\"emergency-alerts-\".concat(currentTrip.id),JSON.stringify(alerts));}},[alerts,currentTrip]);// Save settings when they change\nuseEffect(()=>{localStorage.setItem('emergency-settings',JSON.stringify(settings));},[settings]);const getCurrentLocation=useCallback(()=>{return new Promise((resolve,reject)=>{if(!navigator.geolocation){reject(new Error('Geolocation is not supported by this browser'));return;}navigator.geolocation.getCurrentPosition(position=>{setCurrentLocation(position);resolve(position);},error=>{console.error('Error getting location:',error);reject(error);},{enableHighAccuracy:true,timeout:10000,maximumAge:60000// 1 minute\n});});},[]);const startLocationTracking=useCallback(()=>{if(!navigator.geolocation||!settings.enableGPS)return;const id=navigator.geolocation.watchPosition(position=>{setCurrentLocation(position);// Auto-share location with party if enabled\nif(settings.autoShareLocation){// In a real app, this would send to other party members\nconsole.log('Location updated:',position.coords);}},error=>{console.error('Location tracking error:',error);},{enableHighAccuracy:true,timeout:15000,maximumAge:60000});setWatchId(id);setIsTracking(true);},[settings.enableGPS,settings.autoShareLocation]);const stopLocationTracking=useCallback(()=>{if(watchId!==null){navigator.geolocation.clearWatch(watchId);setWatchId(null);setIsTracking(false);}},[watchId]);const sendEmergencyAlert=useCallback(async(type,message)=>{if(!currentTrip)return;try{// Get current location\nconst position=await getCurrentLocation();const alert={id:generateId(),tripId:currentTrip.id,senderId:'current-user',// In a real app, this would be the actual user ID\nsenderName:'You',// In a real app, this would be the actual user name\nalertType:type,location:{lat:position.coords.latitude,lng:position.coords.longitude,accuracy:position.coords.accuracy},timestamp:new Date(),message:message||getDefaultMessage(type),isResolved:false};setAlerts(prev=>[alert,...prev]);// Send notifications to party members only (in a real app, this would use a backend service)\nnotifyPartyMembers(alert);return alert;}catch(error){console.error('Failed to send party alert:',error);throw error;}},[currentTrip,getCurrentLocation]);const resolveAlert=useCallback(alertId=>{setAlerts(prev=>prev.map(alert=>alert.id===alertId?_objectSpread(_objectSpread({},alert),{},{isResolved:true,resolvedAt:new Date(),resolvedBy:'current-user'}):alert));},[]);const updateSettings=useCallback(newSettings=>{setSettings(prev=>_objectSpread(_objectSpread({},prev),newSettings));},[]);const shareLocationWithParty=useCallback(async()=>{if(!currentTrip)return;try{const position=await getCurrentLocation();// In a real app, this would send the location to party members\nconsole.log('Sharing location with party:',{lat:position.coords.latitude,lng:position.coords.longitude,timestamp:new Date()});// For demo purposes, create a location share \"alert\"\nconst locationShare={type:'location-share',location:{lat:position.coords.latitude,lng:position.coords.longitude},timestamp:new Date(),sender:'You'};console.log('Location shared:',locationShare);}catch(error){console.error('Failed to share location:',error);}},[currentTrip,getCurrentLocation]);// Helper functions\nconst getDefaultMessage=type=>{switch(type){case EmergencyType.LOST:return'I am lost and need assistance finding my way back to the group.';case EmergencyType.INJURED:return'I am injured and need help from the hunting party.';case EmergencyType.EQUIPMENT_FAILURE:return'I have equipment failure and need assistance from the group.';case EmergencyType.SEVERE_WEATHER:return'Severe weather conditions, seeking shelter. Party please check in.';case EmergencyType.WILDLIFE_ENCOUNTER:return'Wildlife encounter, staying put. Party please be aware of my location.';default:return'Need assistance from hunting party - please check my location.';}};const notifyPartyMembers=alert=>{// Send notifications to hunting party members only (not emergency services)\nconsole.log('Notifying hunting party members of alert:',alert);// Show browser notification if permitted\nif('Notification'in window&&Notification.permission==='granted'){new Notification(\"Alert from \".concat(alert.senderName),{body:\"\".concat(alert.message,\" - Location shared with party.\"),icon:'/favicon.ico',tag:'party-alert'});}};// Request notification permission on mount\nuseEffect(()=>{if('Notification'in window&&Notification.permission==='default'){Notification.requestPermission();}},[]);const value={alerts,settings,currentLocation,isTracking,sendEmergencyAlert,resolveAlert,updateSettings,startLocationTracking,stopLocationTracking,getCurrentLocation,shareLocationWithParty};return/*#__PURE__*/_jsx(EmergencyContext.Provider,{value:value,children:children});};","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","useCallback","EmergencyType","useHuntingTrip","jsx","_jsx","EmergencyContext","undefined","useEmergency","context","Error","defaultSettings","enableGPS","enableNotifications","emergencyContacts","autoShareLocation","checkInInterval","EmergencyProvider","_ref","children","currentTrip","alerts","setAlerts","settings","setSettings","currentLocation","setCurrentLocation","isTracking","setIsTracking","watchId","setWatchId","generateId","Math","random","toString","substr","savedAlerts","localStorage","getItem","concat","id","JSON","parse","map","alert","_objectSpread","timestamp","Date","resolvedAt","savedSettings","length","setItem","stringify","getCurrentLocation","Promise","resolve","reject","navigator","geolocation","getCurrentPosition","position","error","console","enableHighAccuracy","timeout","maximumAge","startLocationTracking","watchPosition","log","coords","stopLocationTracking","clearWatch","sendEmergencyAlert","type","message","tripId","senderId","senderName","alertType","location","lat","latitude","lng","longitude","accuracy","getDefaultMessage","isResolved","prev","notifyPartyMembers","resolveAlert","alertId","resolvedBy","updateSettings","newSettings","shareLocationWithParty","locationShare","sender","LOST","INJURED","EQUIPMENT_FAILURE","SEVERE_WEATHER","WILDLIFE_ENCOUNTER","window","Notification","permission","body","icon","tag","requestPermission","value","Provider"],"sources":["C:/Users/dpipp/HuntingPlanner/src/context/EmergencyContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect, useCallback } from 'react';\r\nimport { EmergencyAlert, EmergencyType, EmergencySettings } from '../types/emergency';\r\nimport { useHuntingTrip } from './HuntingTripContext';\r\n\r\ninterface EmergencyContextType {\r\n  alerts: EmergencyAlert[];\r\n  settings: EmergencySettings;\r\n  currentLocation: GeolocationPosition | null;\r\n  isTracking: boolean;\r\n  \r\n  // Emergency actions\r\n  sendEmergencyAlert: (type: EmergencyType, message?: string) => void;\r\n  resolveAlert: (alertId: string) => void;\r\n  updateSettings: (settings: Partial<EmergencySettings>) => void;\r\n  \r\n  // Location tracking\r\n  startLocationTracking: () => void;\r\n  stopLocationTracking: () => void;\r\n  getCurrentLocation: () => Promise<GeolocationPosition>;\r\n  \r\n  // Party member location sharing\r\n  shareLocationWithParty: () => void;\r\n}\r\n\r\nconst EmergencyContext = createContext<EmergencyContextType | undefined>(undefined);\r\n\r\nexport const useEmergency = () => {\r\n  const context = useContext(EmergencyContext);\r\n  if (!context) {\r\n    throw new Error('useEmergency must be used within an EmergencyProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nconst defaultSettings: EmergencySettings = {\r\n  enableGPS: true,\r\n  enableNotifications: true,\r\n  emergencyContacts: [],\r\n  autoShareLocation: true,\r\n  checkInInterval: 30 // 30 minutes\r\n};\r\n\r\nexport const EmergencyProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n  const { currentTrip } = useHuntingTrip();\r\n  const [alerts, setAlerts] = useState<EmergencyAlert[]>([]);\r\n  const [settings, setSettings] = useState<EmergencySettings>(defaultSettings);\r\n  const [currentLocation, setCurrentLocation] = useState<GeolocationPosition | null>(null);\r\n  const [isTracking, setIsTracking] = useState(false);\r\n  const [watchId, setWatchId] = useState<number | null>(null);\r\n\r\n  const generateId = () => Math.random().toString(36).substr(2, 9);\r\n\r\n  // Load saved alerts and settings\r\n  useEffect(() => {\r\n    if (currentTrip) {\r\n      const savedAlerts = localStorage.getItem(`emergency-alerts-${currentTrip.id}`);\r\n      if (savedAlerts) {\r\n        setAlerts(JSON.parse(savedAlerts).map((alert: any) => ({\r\n          ...alert,\r\n          timestamp: new Date(alert.timestamp),\r\n          resolvedAt: alert.resolvedAt ? new Date(alert.resolvedAt) : undefined\r\n        })));\r\n      }\r\n      \r\n      const savedSettings = localStorage.getItem('emergency-settings');\r\n      if (savedSettings) {\r\n        setSettings(JSON.parse(savedSettings));\r\n      }\r\n    }\r\n  }, [currentTrip]);\r\n\r\n  // Save alerts when they change\r\n  useEffect(() => {\r\n    if (currentTrip && alerts.length > 0) {\r\n      localStorage.setItem(`emergency-alerts-${currentTrip.id}`, JSON.stringify(alerts));\r\n    }\r\n  }, [alerts, currentTrip]);\r\n\r\n  // Save settings when they change\r\n  useEffect(() => {\r\n    localStorage.setItem('emergency-settings', JSON.stringify(settings));\r\n  }, [settings]);\r\n\r\n  const getCurrentLocation = useCallback((): Promise<GeolocationPosition> => {\r\n    return new Promise((resolve, reject) => {\r\n      if (!navigator.geolocation) {\r\n        reject(new Error('Geolocation is not supported by this browser'));\r\n        return;\r\n      }\r\n\r\n      navigator.geolocation.getCurrentPosition(\r\n        (position) => {\r\n          setCurrentLocation(position);\r\n          resolve(position);\r\n        },\r\n        (error) => {\r\n          console.error('Error getting location:', error);\r\n          reject(error);\r\n        },\r\n        {\r\n          enableHighAccuracy: true,\r\n          timeout: 10000,\r\n          maximumAge: 60000 // 1 minute\r\n        }\r\n      );\r\n    });\r\n  }, []);\r\n\r\n  const startLocationTracking = useCallback(() => {\r\n    if (!navigator.geolocation || !settings.enableGPS) return;\r\n\r\n    const id = navigator.geolocation.watchPosition(\r\n      (position) => {\r\n        setCurrentLocation(position);\r\n        \r\n        // Auto-share location with party if enabled\r\n        if (settings.autoShareLocation) {\r\n          // In a real app, this would send to other party members\r\n          console.log('Location updated:', position.coords);\r\n        }\r\n      },\r\n      (error) => {\r\n        console.error('Location tracking error:', error);\r\n      },\r\n      {\r\n        enableHighAccuracy: true,\r\n        timeout: 15000,\r\n        maximumAge: 60000\r\n      }\r\n    );\r\n\r\n    setWatchId(id);\r\n    setIsTracking(true);\r\n  }, [settings.enableGPS, settings.autoShareLocation]);\r\n\r\n  const stopLocationTracking = useCallback(() => {\r\n    if (watchId !== null) {\r\n      navigator.geolocation.clearWatch(watchId);\r\n      setWatchId(null);\r\n      setIsTracking(false);\r\n    }\r\n  }, [watchId]);\r\n\r\n  const sendEmergencyAlert = useCallback(async (type: EmergencyType, message?: string) => {\r\n    if (!currentTrip) return;\r\n\r\n    try {\r\n      // Get current location\r\n      const position = await getCurrentLocation();\r\n      \r\n      const alert: EmergencyAlert = {\r\n        id: generateId(),\r\n        tripId: currentTrip.id,\r\n        senderId: 'current-user', // In a real app, this would be the actual user ID\r\n        senderName: 'You', // In a real app, this would be the actual user name\r\n        alertType: type,\r\n        location: {\r\n          lat: position.coords.latitude,\r\n          lng: position.coords.longitude,\r\n          accuracy: position.coords.accuracy\r\n        },\r\n        timestamp: new Date(),\r\n        message: message || getDefaultMessage(type),\r\n        isResolved: false\r\n      };\r\n\r\n      setAlerts(prev => [alert, ...prev]);\r\n\r\n      // Send notifications to party members only (in a real app, this would use a backend service)\r\n      notifyPartyMembers(alert);\r\n\r\n      return alert;\r\n    } catch (error) {\r\n      console.error('Failed to send party alert:', error);\r\n      throw error;\r\n    }\r\n  }, [currentTrip, getCurrentLocation]);\r\n\r\n  const resolveAlert = useCallback((alertId: string) => {\r\n    setAlerts(prev => prev.map(alert => \r\n      alert.id === alertId \r\n        ? { \r\n            ...alert, \r\n            isResolved: true, \r\n            resolvedAt: new Date(),\r\n            resolvedBy: 'current-user'\r\n          }\r\n        : alert\r\n    ));\r\n  }, []);\r\n\r\n  const updateSettings = useCallback((newSettings: Partial<EmergencySettings>) => {\r\n    setSettings(prev => ({ ...prev, ...newSettings }));\r\n  }, []);\r\n\r\n  const shareLocationWithParty = useCallback(async () => {\r\n    if (!currentTrip) return;\r\n\r\n    try {\r\n      const position = await getCurrentLocation();\r\n      \r\n      // In a real app, this would send the location to party members\r\n      console.log('Sharing location with party:', {\r\n        lat: position.coords.latitude,\r\n        lng: position.coords.longitude,\r\n        timestamp: new Date()\r\n      });\r\n      \r\n      // For demo purposes, create a location share \"alert\"\r\n      const locationShare = {\r\n        type: 'location-share',\r\n        location: {\r\n          lat: position.coords.latitude,\r\n          lng: position.coords.longitude\r\n        },\r\n        timestamp: new Date(),\r\n        sender: 'You'\r\n      };\r\n      \r\n      console.log('Location shared:', locationShare);\r\n    } catch (error) {\r\n      console.error('Failed to share location:', error);\r\n    }\r\n  }, [currentTrip, getCurrentLocation]);\r\n\r\n  // Helper functions\r\n  const getDefaultMessage = (type: EmergencyType): string => {\r\n    switch (type) {\r\n      case EmergencyType.LOST:\r\n        return 'I am lost and need assistance finding my way back to the group.';\r\n      case EmergencyType.INJURED:\r\n        return 'I am injured and need help from the hunting party.';\r\n      case EmergencyType.EQUIPMENT_FAILURE:\r\n        return 'I have equipment failure and need assistance from the group.';\r\n      case EmergencyType.SEVERE_WEATHER:\r\n        return 'Severe weather conditions, seeking shelter. Party please check in.';\r\n      case EmergencyType.WILDLIFE_ENCOUNTER:\r\n        return 'Wildlife encounter, staying put. Party please be aware of my location.';\r\n      default:\r\n        return 'Need assistance from hunting party - please check my location.';\r\n    }\r\n  };\r\n\r\n  const notifyPartyMembers = (alert: EmergencyAlert) => {\r\n    // Send notifications to hunting party members only (not emergency services)\r\n    console.log('Notifying hunting party members of alert:', alert);\r\n    \r\n    // Show browser notification if permitted\r\n    if ('Notification' in window && Notification.permission === 'granted') {\r\n      new Notification(`Alert from ${alert.senderName}`, {\r\n        body: `${alert.message} - Location shared with party.`,\r\n        icon: '/favicon.ico',\r\n        tag: 'party-alert'\r\n      });\r\n    }\r\n  };\r\n\r\n  // Request notification permission on mount\r\n  useEffect(() => {\r\n    if ('Notification' in window && Notification.permission === 'default') {\r\n      Notification.requestPermission();\r\n    }\r\n  }, []);\r\n\r\n  const value = {\r\n    alerts,\r\n    settings,\r\n    currentLocation,\r\n    isTracking,\r\n    sendEmergencyAlert,\r\n    resolveAlert,\r\n    updateSettings,\r\n    startLocationTracking,\r\n    stopLocationTracking,\r\n    getCurrentLocation,\r\n    shareLocationWithParty\r\n  };\r\n\r\n  return (\r\n    <EmergencyContext.Provider value={value}>\r\n      {children}\r\n    </EmergencyContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}