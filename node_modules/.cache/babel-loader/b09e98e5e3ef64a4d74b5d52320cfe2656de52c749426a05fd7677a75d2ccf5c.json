{"ast":null,"code":"import React,{useState}from'react';import{Box,Button,Menu,MenuItem,ListItemIcon,ListItemText,Avatar,Typography,Divider,Chip}from'@mui/material';import{Person,Settings,Logout,AdminPanelSettings}from'@mui/icons-material';import{useAuth}from'../../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserProfileMenu=()=>{const{user,logout}=useAuth();const[anchorEl,setAnchorEl]=useState(null);const handleMenuOpen=event=>{setAnchorEl(event.currentTarget);};const handleMenuClose=()=>{setAnchorEl(null);};const handleLogout=()=>{logout();handleMenuClose();};if(!user)return null;return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Button,{onClick:handleMenuOpen,sx:{color:'white',textTransform:'none',display:'flex',alignItems:'center',gap:1,'&:hover':{backgroundColor:'rgba(255,255,255,0.1)'}},children:[/*#__PURE__*/_jsx(Avatar,{sx:{width:32,height:32,bgcolor:'secondary.main',fontSize:'0.875rem'},children:user.avatar||user.displayName.charAt(0)}),/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'left',display:{xs:'none',sm:'block'}},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{lineHeight:1.2},children:user.displayName}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{opacity:0.8,lineHeight:1},children:user.huntingExperience})]})]}),/*#__PURE__*/_jsxs(Menu,{anchorEl:anchorEl,open:Boolean(anchorEl),onClose:handleMenuClose,PaperProps:{sx:{mt:1,minWidth:280,'& .MuiMenuItem-root':{px:2,py:1}}},transformOrigin:{horizontal:'right',vertical:'top'},anchorOrigin:{horizontal:'right',vertical:'bottom'},children:[/*#__PURE__*/_jsx(Box,{sx:{px:2,py:2,borderBottom:'1px solid',borderColor:'divider'},children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:2},children:[/*#__PURE__*/_jsx(Avatar,{sx:{width:48,height:48,bgcolor:'primary.main'},children:user.avatar||user.displayName.charAt(0)}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",sx:{fontWeight:'bold'},children:user.displayName}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:user.email}),/*#__PURE__*/_jsx(Box,{sx:{mt:1},children:/*#__PURE__*/_jsx(Chip,{label:user.huntingExperience,size:\"small\",color:\"primary\",variant:\"outlined\"})})]})]})}),/*#__PURE__*/_jsx(Box,{sx:{px:2,py:1},children:/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",color:\"text.secondary\",children:[\"Member since \",user.createdAt.toLocaleDateString()]})}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(MenuItem,{onClick:handleMenuClose,children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(Person,{})}),/*#__PURE__*/_jsx(ListItemText,{primary:\"Edit Profile\",secondary:\"Update your information\"})]}),/*#__PURE__*/_jsxs(MenuItem,{onClick:handleMenuClose,children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(Settings,{})}),/*#__PURE__*/_jsx(ListItemText,{primary:\"Settings\",secondary:\"App preferences\"})]}),user.huntingExperience==='expert'&&/*#__PURE__*/_jsxs(MenuItem,{onClick:handleMenuClose,children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(AdminPanelSettings,{})}),/*#__PURE__*/_jsx(ListItemText,{primary:\"Trip Management\",secondary:\"Manage your hunting trips\"})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(MenuItem,{onClick:handleLogout,children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(Logout,{})}),/*#__PURE__*/_jsx(ListItemText,{primary:\"Sign Out\",secondary:\"Sign out of your account\"})]})]})]});};export default UserProfileMenu;","map":{"version":3,"names":["React","useState","Box","Button","Menu","MenuItem","ListItemIcon","ListItemText","Avatar","Typography","Divider","Chip","Person","Settings","Logout","AdminPanelSettings","useAuth","jsx","_jsx","jsxs","_jsxs","UserProfileMenu","user","logout","anchorEl","setAnchorEl","handleMenuOpen","event","currentTarget","handleMenuClose","handleLogout","children","onClick","sx","color","textTransform","display","alignItems","gap","backgroundColor","width","height","bgcolor","fontSize","avatar","displayName","charAt","textAlign","xs","sm","variant","lineHeight","opacity","huntingExperience","open","Boolean","onClose","PaperProps","mt","minWidth","px","py","transformOrigin","horizontal","vertical","anchorOrigin","borderBottom","borderColor","fontWeight","email","label","size","createdAt","toLocaleDateString","primary","secondary"],"sources":["C:/Users/dpipp/HuntingPlanner/src/components/Auth/UserProfileMenu.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport {\r\n  Box,\r\n  Button,\r\n  Menu,\r\n  MenuItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Avatar,\r\n  Typography,\r\n  Divider,\r\n  Chip\r\n} from '@mui/material';\r\nimport {\r\n  Person,\r\n  Settings,\r\n  Logout,\r\n  AdminPanelSettings\r\n} from '@mui/icons-material';\r\nimport { useAuth } from '../../context/AuthContext';\r\n\r\nconst UserProfileMenu: React.FC = () => {\r\n  const { user, logout } = useAuth();\r\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\r\n\r\n  const handleMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    handleMenuClose();\r\n  };\r\n\r\n  if (!user) return null;\r\n\r\n  return (\r\n    <Box>\r\n      {/* Profile Button */}\r\n      <Button\r\n        onClick={handleMenuOpen}\r\n        sx={{\r\n          color: 'white',\r\n          textTransform: 'none',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          gap: 1,\r\n          '&:hover': {\r\n            backgroundColor: 'rgba(255,255,255,0.1)'\r\n          }\r\n        }}\r\n      >\r\n        <Avatar \r\n          sx={{ \r\n            width: 32, \r\n            height: 32, \r\n            bgcolor: 'secondary.main',\r\n            fontSize: '0.875rem'\r\n          }}\r\n        >\r\n          {user.avatar || user.displayName.charAt(0)}\r\n        </Avatar>\r\n        <Box sx={{ textAlign: 'left', display: { xs: 'none', sm: 'block' } }}>\r\n          <Typography variant=\"body2\" sx={{ lineHeight: 1.2 }}>\r\n            {user.displayName}\r\n          </Typography>\r\n          <Typography variant=\"caption\" sx={{ opacity: 0.8, lineHeight: 1 }}>\r\n            {user.huntingExperience}\r\n          </Typography>\r\n        </Box>\r\n      </Button>\r\n\r\n      {/* Dropdown Menu */}\r\n      <Menu\r\n        anchorEl={anchorEl}\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleMenuClose}\r\n        PaperProps={{\r\n          sx: {\r\n            mt: 1,\r\n            minWidth: 280,\r\n            '& .MuiMenuItem-root': {\r\n              px: 2,\r\n              py: 1\r\n            }\r\n          }\r\n        }}\r\n        transformOrigin={{ horizontal: 'right', vertical: 'top' }}\r\n        anchorOrigin={{ horizontal: 'right', vertical: 'bottom' }}\r\n      >\r\n        {/* Profile Header */}\r\n        <Box sx={{ px: 2, py: 2, borderBottom: '1px solid', borderColor: 'divider' }}>\r\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n            <Avatar \r\n              sx={{ \r\n                width: 48, \r\n                height: 48, \r\n                bgcolor: 'primary.main'\r\n              }}\r\n            >\r\n              {user.avatar || user.displayName.charAt(0)}\r\n            </Avatar>\r\n            <Box>\r\n              <Typography variant=\"subtitle1\" sx={{ fontWeight: 'bold' }}>\r\n                {user.displayName}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                {user.email}\r\n              </Typography>\r\n              <Box sx={{ mt: 1 }}>\r\n                <Chip \r\n                  label={user.huntingExperience} \r\n                  size=\"small\" \r\n                  color=\"primary\"\r\n                  variant=\"outlined\"\r\n                />\r\n              </Box>\r\n            </Box>\r\n          </Box>\r\n        </Box>\r\n\r\n        {/* Profile Stats */}\r\n        <Box sx={{ px: 2, py: 1 }}>\r\n          <Typography variant=\"caption\" color=\"text.secondary\">\r\n            Member since {user.createdAt.toLocaleDateString()}\r\n          </Typography>\r\n        </Box>\r\n\r\n        <Divider />\r\n\r\n        {/* Menu Items */}\r\n        <MenuItem onClick={handleMenuClose}>\r\n          <ListItemIcon>\r\n            <Person />\r\n          </ListItemIcon>\r\n          <ListItemText \r\n            primary=\"Edit Profile\"\r\n            secondary=\"Update your information\"\r\n          />\r\n        </MenuItem>\r\n\r\n        <MenuItem onClick={handleMenuClose}>\r\n          <ListItemIcon>\r\n            <Settings />\r\n          </ListItemIcon>\r\n          <ListItemText \r\n            primary=\"Settings\"\r\n            secondary=\"App preferences\"\r\n          />\r\n        </MenuItem>\r\n\r\n        {user.huntingExperience === 'expert' && (\r\n          <MenuItem onClick={handleMenuClose}>\r\n            <ListItemIcon>\r\n              <AdminPanelSettings />\r\n            </ListItemIcon>\r\n            <ListItemText \r\n              primary=\"Trip Management\"\r\n              secondary=\"Manage your hunting trips\"\r\n            />\r\n          </MenuItem>\r\n        )}\r\n\r\n        <Divider />\r\n\r\n        <MenuItem onClick={handleLogout}>\r\n          <ListItemIcon>\r\n            <Logout />\r\n          </ListItemIcon>\r\n          <ListItemText \r\n            primary=\"Sign Out\"\r\n            secondary=\"Sign out of your account\"\r\n          />\r\n        </MenuItem>\r\n      </Menu>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default UserProfileMenu;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}