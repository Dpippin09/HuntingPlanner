{"ast":null,"code":"import _objectSpread from\"C:/Users/dpipp/HuntingPlanner/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Box,Typography,Card,CardContent,Grid,Alert,Button,Dialog,DialogTitle,DialogContent,DialogActions,TextField,FormControl,InputLabel,Select,MenuItem,List,ListItem,ListItemIcon,ListItemText,ListItemSecondaryAction,IconButton,Chip}from'@mui/material';import{Add,Delete,Edit,LocationOn,Terrain,DirectionsCar,Home,Flag}from'@mui/icons-material';import{MapContainer,TileLayer,Marker,Popup,useMapEvents}from'react-leaflet';import L from'leaflet';import{useHuntingTrip}from'../../context/HuntingTripContext';import{useEmergency}from'../../context/EmergencyContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";// Fix for default markers in react-leaflet\ndelete L.Icon.Default.prototype._getIconUrl;L.Icon.Default.mergeOptions({iconRetinaUrl:'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',iconUrl:'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',shadowUrl:'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png'});// Custom icons for different location types\nconst createCustomIcon=color=>{return new L.Icon({iconUrl:\"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-\".concat(color,\".png\"),shadowUrl:'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});};const locationTypeIcons={hunting_spot:createCustomIcon('red'),camp:createCustomIcon('green'),parking:createCustomIcon('blue'),landmark:createCustomIcon('yellow')};// Emergency alert icon\nconst emergencyIcon=new L.Icon({iconUrl:'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png',shadowUrl:'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',iconSize:[35,55],// Larger for emergency alerts\niconAnchor:[17,55],popupAnchor:[1,-44],shadowSize:[55,55],className:'emergency-marker-pulse'// We'll add CSS animation\n});const LocationMap=()=>{const{currentTrip,updateTrip}=useHuntingTrip();const{alerts}=useEmergency();const[locations,setLocations]=useState([]);const[dialogOpen,setDialogOpen]=useState(false);const[editingLocation,setEditingLocation]=useState(null);const[mapCenter,setMapCenter]=useState([39.8283,-98.5795]);// Center of US\nconst[formData,setFormData]=useState({name:'',type:'hunting_spot',notes:'',coordinates:{lat:0,lng:0}});// Component to handle map clicks\nfunction MapClickHandler(_ref){let{onLocationSelect}=_ref;useMapEvents({click(e){onLocationSelect(e.latlng.lat,e.latlng.lng);}});return null;}useEffect(()=>{if(currentTrip){// Set map center to trip location if available\nif(currentTrip.location.coordinates.lat&&currentTrip.location.coordinates.lng){setMapCenter([currentTrip.location.coordinates.lat,currentTrip.location.coordinates.lng]);}// Load saved locations for this trip\nconst savedLocations=localStorage.getItem(\"trip-locations-\".concat(currentTrip.id));if(savedLocations){setLocations(JSON.parse(savedLocations));}}},[currentTrip]);const handleSaveLocations=newLocations=>{if(currentTrip){setLocations(newLocations);localStorage.setItem(\"trip-locations-\".concat(currentTrip.id),JSON.stringify(newLocations));}};const handleAddLocation=()=>{if(!formData.name.trim())return;const newLocation={name:formData.name,type:formData.type,coordinates:formData.coordinates,notes:formData.notes||undefined};if(editingLocation){const updatedLocations=locations.map(loc=>loc.name===editingLocation.name?newLocation:loc);handleSaveLocations(updatedLocations);}else{handleSaveLocations([...locations,newLocation]);}handleCloseDialog();};const handleEditLocation=location=>{setEditingLocation(location);setFormData({name:location.name,type:location.type,notes:location.notes||'',coordinates:location.coordinates});setDialogOpen(true);};const handleDeleteLocation=locationName=>{const updatedLocations=locations.filter(loc=>loc.name!==locationName);handleSaveLocations(updatedLocations);};const handleCloseDialog=()=>{setDialogOpen(false);setEditingLocation(null);setFormData({name:'',type:'hunting_spot',notes:'',coordinates:{lat:0,lng:0}});};const handleMapClick=(lat,lng)=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{coordinates:{lat,lng}}));if(!dialogOpen){setDialogOpen(true);}};const getLocationTypeInfo=type=>{switch(type){case'hunting_spot':return{label:'Hunting Spot',icon:/*#__PURE__*/_jsx(Flag,{}),color:'error'};case'camp':return{label:'Camp',icon:/*#__PURE__*/_jsx(Home,{}),color:'success'};case'parking':return{label:'Parking',icon:/*#__PURE__*/_jsx(DirectionsCar,{}),color:'primary'};case'landmark':return{label:'Landmark',icon:/*#__PURE__*/_jsx(Terrain,{}),color:'warning'};default:return{label:'Location',icon:/*#__PURE__*/_jsx(LocationOn,{}),color:'default'};}};if(!currentTrip){return/*#__PURE__*/_jsx(Box,{sx:{p:3},children:/*#__PURE__*/_jsx(Alert,{severity:\"info\",children:\"Please select or create a trip to view and manage locations.\"})});}return/*#__PURE__*/_jsxs(Box,{sx:{p:3},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h4\",gutterBottom:true,children:[\"Location Map - \",currentTrip.name]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",color:\"text.secondary\",gutterBottom:true,children:[\"Main Location: \",currentTrip.location.name]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,lg:8,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Box,{sx:{height:600,width:'100%'},children:/*#__PURE__*/_jsxs(MapContainer,{center:mapCenter,zoom:10,style:{height:'100%',width:'100%'},children:[/*#__PURE__*/_jsx(TileLayer,{attribution:\"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"}),/*#__PURE__*/_jsx(MapClickHandler,{onLocationSelect:handleMapClick}),currentTrip.location.coordinates.lat&&currentTrip.location.coordinates.lng&&/*#__PURE__*/_jsx(Marker,{position:[currentTrip.location.coordinates.lat,currentTrip.location.coordinates.lng],children:/*#__PURE__*/_jsxs(Popup,{children:[/*#__PURE__*/_jsx(\"strong\",{children:currentTrip.location.name}),/*#__PURE__*/_jsx(\"br\",{}),\"Main trip location\"]})}),currentTrip&&alerts.filter(alert=>alert.tripId===currentTrip.id&&!alert.isResolved).map((alert,index)=>/*#__PURE__*/_jsx(Marker,{position:[alert.location.lat,alert.location.lng],icon:emergencyIcon,children:/*#__PURE__*/_jsx(Popup,{children:/*#__PURE__*/_jsxs(\"div\",{style:{minWidth:'200px'},children:[/*#__PURE__*/_jsx(\"strong\",{style:{color:'red'},children:\"\\uD83D\\uDEA8 EMERGENCY ALERT\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:alert.senderName}),/*#__PURE__*/_jsx(\"br\",{}),\"Type: \",alert.alertType.replace('_',' ').toUpperCase(),/*#__PURE__*/_jsx(\"br\",{}),alert.message&&/*#__PURE__*/_jsxs(\"span\",{children:[\"Message: \",alert.message,/*#__PURE__*/_jsx(\"br\",{})]}),\"Time: \",alert.timestamp.toLocaleString(),/*#__PURE__*/_jsx(\"br\",{}),\"Location: \",alert.location.lat.toFixed(6),\", \",alert.location.lng.toFixed(6),alert.location.accuracy&&/*#__PURE__*/_jsx(\"br\",{}),alert.location.accuracy&&/*#__PURE__*/_jsxs(\"span\",{children:[\"Accuracy: \\xB1\",Math.round(alert.location.accuracy),\"m\"]})]})})},\"emergency-\".concat(alert.id))),locations.map((location,index)=>/*#__PURE__*/_jsx(Marker,{position:[location.coordinates.lat,location.coordinates.lng],icon:locationTypeIcons[location.type],children:/*#__PURE__*/_jsxs(Popup,{children:[/*#__PURE__*/_jsx(\"strong\",{children:location.name}),/*#__PURE__*/_jsx(\"br\",{}),\"Type: \",getLocationTypeInfo(location.type).label,/*#__PURE__*/_jsx(\"br\",{}),location.notes&&/*#__PURE__*/_jsxs(\"span\",{children:[\"Notes: \",location.notes]})]})},index))]})}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"text.secondary\",sx:{mt:1,display:'block'},children:\"Click on the map to add a new location marker\"})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,lg:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mb:2},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",children:[\"Saved Locations (\",locations.length,\")\"]}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"small\",startIcon:/*#__PURE__*/_jsx(Add,{}),onClick:()=>setDialogOpen(true),children:\"Add\"})]}),/*#__PURE__*/_jsxs(List,{children:[locations.map((location,index)=>{const typeInfo=getLocationTypeInfo(location.type);return/*#__PURE__*/_jsxs(ListItem,{divider:true,children:[/*#__PURE__*/_jsx(ListItemIcon,{children:typeInfo.icon}),/*#__PURE__*/_jsx(ListItemText,{primary:location.name,secondary:/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Chip,{label:typeInfo.label,size:\"small\",color:typeInfo.color,sx:{mr:1,mb:0.5}}),/*#__PURE__*/_jsx(\"br\",{}),location.coordinates.lat.toFixed(4),\", \",location.coordinates.lng.toFixed(4),location.notes&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",children:location.notes})]})]})}),/*#__PURE__*/_jsxs(ListItemSecondaryAction,{children:[/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>handleEditLocation(location),children:/*#__PURE__*/_jsx(Edit,{})}),/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>handleDeleteLocation(location.name),color:\"error\",children:/*#__PURE__*/_jsx(Delete,{})})]})]},index);}),locations.length===0&&/*#__PURE__*/_jsx(ListItem,{children:/*#__PURE__*/_jsx(ListItemText,{primary:\"No saved locations\",secondary:\"Click on the map or the Add button to create your first location marker\"})})]})]})})})]}),/*#__PURE__*/_jsxs(Dialog,{open:dialogOpen,onClose:handleCloseDialog,maxWidth:\"sm\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:editingLocation?'Edit Location':'Add New Location'}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',gap:2,mt:1},children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Location Name\",value:formData.name,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{name:e.target.value}))}),/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Location Type\"}),/*#__PURE__*/_jsxs(Select,{value:formData.type,label:\"Location Type\",onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{type:e.target.value})),children:[/*#__PURE__*/_jsx(MenuItem,{value:\"hunting_spot\",children:\"Hunting Spot\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"camp\",children:\"Camp\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"parking\",children:\"Parking\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"landmark\",children:\"Landmark\"})]})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Latitude\",type:\"number\",value:formData.coordinates.lat,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{coordinates:_objectSpread(_objectSpread({},formData.coordinates),{},{lat:parseFloat(e.target.value)||0})})),inputProps:{step:'any'}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Longitude\",type:\"number\",value:formData.coordinates.lng,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{coordinates:_objectSpread(_objectSpread({},formData.coordinates),{},{lng:parseFloat(e.target.value)||0})})),inputProps:{step:'any'}})})]}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Notes (optional)\",multiline:true,rows:3,value:formData.notes,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{notes:e.target.value}))})]})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleCloseDialog,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:handleAddLocation,variant:\"contained\",disabled:!formData.name.trim()||!formData.coordinates.lat||!formData.coordinates.lng,children:editingLocation?'Update':'Add'})]})]})]});};export default LocationMap;","map":{"version":3,"names":["React","useState","useEffect","Box","Typography","Card","CardContent","Grid","Alert","Button","Dialog","DialogTitle","DialogContent","DialogActions","TextField","FormControl","InputLabel","Select","MenuItem","List","ListItem","ListItemIcon","ListItemText","ListItemSecondaryAction","IconButton","Chip","Add","Delete","Edit","LocationOn","Terrain","DirectionsCar","Home","Flag","MapContainer","TileLayer","Marker","Popup","useMapEvents","L","useHuntingTrip","useEmergency","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","createCustomIcon","color","concat","iconSize","iconAnchor","popupAnchor","shadowSize","locationTypeIcons","hunting_spot","camp","parking","landmark","emergencyIcon","className","LocationMap","currentTrip","updateTrip","alerts","locations","setLocations","dialogOpen","setDialogOpen","editingLocation","setEditingLocation","mapCenter","setMapCenter","formData","setFormData","name","type","notes","coordinates","lat","lng","MapClickHandler","_ref","onLocationSelect","click","e","latlng","location","savedLocations","localStorage","getItem","id","JSON","parse","handleSaveLocations","newLocations","setItem","stringify","handleAddLocation","trim","newLocation","undefined","updatedLocations","map","loc","handleCloseDialog","handleEditLocation","handleDeleteLocation","locationName","filter","handleMapClick","prev","_objectSpread","getLocationTypeInfo","label","icon","sx","p","children","severity","variant","gutterBottom","container","spacing","item","xs","lg","height","width","center","zoom","style","attribution","url","position","alert","tripId","isResolved","index","minWidth","senderName","alertType","replace","toUpperCase","message","timestamp","toLocaleString","toFixed","accuracy","Math","round","mt","display","justifyContent","alignItems","mb","length","size","startIcon","onClick","typeInfo","divider","primary","secondary","mr","open","onClose","maxWidth","fullWidth","flexDirection","gap","value","onChange","target","parseFloat","inputProps","step","multiline","rows","disabled"],"sources":["C:/Users/dpipp/HuntingPlanner/src/components/Map/LocationMap.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Card,\r\n  CardContent,\r\n  Grid,\r\n  Alert,\r\n  Button,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  ListItemSecondaryAction,\r\n  IconButton,\r\n  Chip\r\n} from '@mui/material';\r\nimport {\r\n  Add,\r\n  Delete,\r\n  Edit,\r\n  LocationOn,\r\n  MyLocation,\r\n  Terrain,\r\n  DirectionsCar,\r\n  Home,\r\n  Flag\r\n} from '@mui/icons-material';\r\nimport { MapContainer, TileLayer, Marker, Popup, useMapEvents } from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport { useHuntingTrip } from '../../context/HuntingTripContext';\r\nimport { useEmergency } from '../../context/EmergencyContext';\r\nimport { MapLocation } from '../../types';\r\n\r\n// Fix for default markers in react-leaflet\r\ndelete (L.Icon.Default.prototype as any)._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\r\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\r\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\r\n});\r\n\r\n// Custom icons for different location types\r\nconst createCustomIcon = (color: string) => {\r\n  return new L.Icon({\r\n    iconUrl: `https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-${color}.png`,\r\n    shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\r\n    iconSize: [25, 41],\r\n    iconAnchor: [12, 41],\r\n    popupAnchor: [1, -34],\r\n    shadowSize: [41, 41]\r\n  });\r\n};\r\n\r\nconst locationTypeIcons = {\r\n  hunting_spot: createCustomIcon('red'),\r\n  camp: createCustomIcon('green'),\r\n  parking: createCustomIcon('blue'),\r\n  landmark: createCustomIcon('yellow'),\r\n};\r\n\r\n// Emergency alert icon\r\nconst emergencyIcon = new L.Icon({\r\n  iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png',\r\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\r\n  iconSize: [35, 55], // Larger for emergency alerts\r\n  iconAnchor: [17, 55],\r\n  popupAnchor: [1, -44],\r\n  shadowSize: [55, 55],\r\n  className: 'emergency-marker-pulse' // We'll add CSS animation\r\n});\r\n\r\nconst LocationMap: React.FC = () => {\r\n  const { currentTrip, updateTrip } = useHuntingTrip();\r\n  const { alerts } = useEmergency();\r\n  const [locations, setLocations] = useState<MapLocation[]>([]);\r\n  const [dialogOpen, setDialogOpen] = useState(false);\r\n  const [editingLocation, setEditingLocation] = useState<MapLocation | null>(null);\r\n  const [mapCenter, setMapCenter] = useState<[number, number]>([39.8283, -98.5795]); // Center of US\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    type: 'hunting_spot' as MapLocation['type'],\r\n    notes: '',\r\n    coordinates: { lat: 0, lng: 0 }\r\n  });\r\n\r\n  // Component to handle map clicks\r\n  function MapClickHandler({ onLocationSelect }: { onLocationSelect: (lat: number, lng: number) => void }) {\r\n    useMapEvents({\r\n      click(e) {\r\n        onLocationSelect(e.latlng.lat, e.latlng.lng);\r\n      },\r\n    });\r\n    return null;\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (currentTrip) {\r\n      // Set map center to trip location if available\r\n      if (currentTrip.location.coordinates.lat && currentTrip.location.coordinates.lng) {\r\n        setMapCenter([currentTrip.location.coordinates.lat, currentTrip.location.coordinates.lng]);\r\n      }\r\n      \r\n      // Load saved locations for this trip\r\n      const savedLocations = localStorage.getItem(`trip-locations-${currentTrip.id}`);\r\n      if (savedLocations) {\r\n        setLocations(JSON.parse(savedLocations));\r\n      }\r\n    }\r\n  }, [currentTrip]);\r\n\r\n  const handleSaveLocations = (newLocations: MapLocation[]) => {\r\n    if (currentTrip) {\r\n      setLocations(newLocations);\r\n      localStorage.setItem(`trip-locations-${currentTrip.id}`, JSON.stringify(newLocations));\r\n    }\r\n  };\r\n\r\n  const handleAddLocation = () => {\r\n    if (!formData.name.trim()) return;\r\n\r\n    const newLocation: MapLocation = {\r\n      name: formData.name,\r\n      type: formData.type,\r\n      coordinates: formData.coordinates,\r\n      notes: formData.notes || undefined\r\n    };\r\n\r\n    if (editingLocation) {\r\n      const updatedLocations = locations.map(loc => \r\n        loc.name === editingLocation.name ? newLocation : loc\r\n      );\r\n      handleSaveLocations(updatedLocations);\r\n    } else {\r\n      handleSaveLocations([...locations, newLocation]);\r\n    }\r\n\r\n    handleCloseDialog();\r\n  };\r\n\r\n  const handleEditLocation = (location: MapLocation) => {\r\n    setEditingLocation(location);\r\n    setFormData({\r\n      name: location.name,\r\n      type: location.type,\r\n      notes: location.notes || '',\r\n      coordinates: location.coordinates\r\n    });\r\n    setDialogOpen(true);\r\n  };\r\n\r\n  const handleDeleteLocation = (locationName: string) => {\r\n    const updatedLocations = locations.filter(loc => loc.name !== locationName);\r\n    handleSaveLocations(updatedLocations);\r\n  };\r\n\r\n  const handleCloseDialog = () => {\r\n    setDialogOpen(false);\r\n    setEditingLocation(null);\r\n    setFormData({\r\n      name: '',\r\n      type: 'hunting_spot',\r\n      notes: '',\r\n      coordinates: { lat: 0, lng: 0 }\r\n    });\r\n  };\r\n\r\n  const handleMapClick = (lat: number, lng: number) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      coordinates: { lat, lng }\r\n    }));\r\n    if (!dialogOpen) {\r\n      setDialogOpen(true);\r\n    }\r\n  };\r\n\r\n  const getLocationTypeInfo = (type: MapLocation['type']) => {\r\n    switch (type) {\r\n      case 'hunting_spot':\r\n        return { label: 'Hunting Spot', icon: <Flag />, color: 'error' };\r\n      case 'camp':\r\n        return { label: 'Camp', icon: <Home />, color: 'success' };\r\n      case 'parking':\r\n        return { label: 'Parking', icon: <DirectionsCar />, color: 'primary' };\r\n      case 'landmark':\r\n        return { label: 'Landmark', icon: <Terrain />, color: 'warning' };\r\n      default:\r\n        return { label: 'Location', icon: <LocationOn />, color: 'default' };\r\n    }\r\n  };\r\n\r\n  if (!currentTrip) {\r\n    return (\r\n      <Box sx={{ p: 3 }}>\r\n        <Alert severity=\"info\">\r\n          Please select or create a trip to view and manage locations.\r\n        </Alert>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ p: 3 }}>\r\n      <Typography variant=\"h4\" gutterBottom>\r\n        Location Map - {currentTrip.name}\r\n      </Typography>\r\n\r\n      <Typography variant=\"body1\" color=\"text.secondary\" gutterBottom>\r\n        Main Location: {currentTrip.location.name}\r\n      </Typography>\r\n\r\n      <Grid container spacing={3}>\r\n        {/* Map */}\r\n        <Grid item xs={12} lg={8}>\r\n          <Card>\r\n            <CardContent>\r\n              <Box sx={{ height: 600, width: '100%' }}>\r\n                <MapContainer\r\n                  center={mapCenter}\r\n                  zoom={10}\r\n                  style={{ height: '100%', width: '100%' }}\r\n                >\r\n                  <TileLayer\r\n                    attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n                    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                  />\r\n                  <MapClickHandler onLocationSelect={handleMapClick} />\r\n                  \r\n                  {/* Main trip location marker */}\r\n                  {currentTrip.location.coordinates.lat && currentTrip.location.coordinates.lng && (\r\n                    <Marker \r\n                      position={[currentTrip.location.coordinates.lat, currentTrip.location.coordinates.lng]}\r\n                    >\r\n                      <Popup>\r\n                        <strong>{currentTrip.location.name}</strong><br />\r\n                        Main trip location\r\n                      </Popup>\r\n                    </Marker>\r\n                  )}\r\n\r\n                  {/* Emergency alert markers */}\r\n                  {currentTrip && alerts\r\n                    .filter(alert => alert.tripId === currentTrip.id && !alert.isResolved)\r\n                    .map((alert, index) => (\r\n                      <Marker\r\n                        key={`emergency-${alert.id}`}\r\n                        position={[alert.location.lat, alert.location.lng]}\r\n                        icon={emergencyIcon}\r\n                      >\r\n                        <Popup>\r\n                          <div style={{ minWidth: '200px' }}>\r\n                            <strong style={{ color: 'red' }}>ðŸš¨ EMERGENCY ALERT</strong><br />\r\n                            <strong>{alert.senderName}</strong><br />\r\n                            Type: {alert.alertType.replace('_', ' ').toUpperCase()}<br />\r\n                            {alert.message && <span>Message: {alert.message}<br /></span>}\r\n                            Time: {alert.timestamp.toLocaleString()}<br />\r\n                            Location: {alert.location.lat.toFixed(6)}, {alert.location.lng.toFixed(6)}\r\n                            {alert.location.accuracy && <br />}\r\n                            {alert.location.accuracy && <span>Accuracy: Â±{Math.round(alert.location.accuracy)}m</span>}\r\n                          </div>\r\n                        </Popup>\r\n                      </Marker>\r\n                    ))}\r\n\r\n                  {/* Additional location markers */}\r\n                  {locations.map((location, index) => (\r\n                    <Marker\r\n                      key={index}\r\n                      position={[location.coordinates.lat, location.coordinates.lng]}\r\n                      icon={locationTypeIcons[location.type]}\r\n                    >\r\n                      <Popup>\r\n                        <strong>{location.name}</strong><br />\r\n                        Type: {getLocationTypeInfo(location.type).label}<br />\r\n                        {location.notes && <span>Notes: {location.notes}</span>}\r\n                      </Popup>\r\n                    </Marker>\r\n                  ))}\r\n                </MapContainer>\r\n              </Box>\r\n              <Typography variant=\"caption\" color=\"text.secondary\" sx={{ mt: 1, display: 'block' }}>\r\n                Click on the map to add a new location marker\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n\r\n        {/* Locations List */}\r\n        <Grid item xs={12} lg={4}>\r\n          <Card>\r\n            <CardContent>\r\n              <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\r\n                <Typography variant=\"h6\">\r\n                  Saved Locations ({locations.length})\r\n                </Typography>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  size=\"small\"\r\n                  startIcon={<Add />}\r\n                  onClick={() => setDialogOpen(true)}\r\n                >\r\n                  Add\r\n                </Button>\r\n              </Box>\r\n\r\n              <List>\r\n                {locations.map((location, index) => {\r\n                  const typeInfo = getLocationTypeInfo(location.type);\r\n                  return (\r\n                    <ListItem key={index} divider>\r\n                      <ListItemIcon>\r\n                        {typeInfo.icon}\r\n                      </ListItemIcon>\r\n                      <ListItemText\r\n                        primary={location.name}\r\n                        secondary={\r\n                          <Box>\r\n                            <Chip \r\n                              label={typeInfo.label} \r\n                              size=\"small\" \r\n                              color={typeInfo.color as any}\r\n                              sx={{ mr: 1, mb: 0.5 }}\r\n                            />\r\n                            <br />\r\n                            {location.coordinates.lat.toFixed(4)}, {location.coordinates.lng.toFixed(4)}\r\n                            {location.notes && (\r\n                              <>\r\n                                <br />\r\n                                <Typography variant=\"caption\">\r\n                                  {location.notes}\r\n                                </Typography>\r\n                              </>\r\n                            )}\r\n                          </Box>\r\n                        }\r\n                      />\r\n                      <ListItemSecondaryAction>\r\n                        <IconButton \r\n                          size=\"small\" \r\n                          onClick={() => handleEditLocation(location)}\r\n                        >\r\n                          <Edit />\r\n                        </IconButton>\r\n                        <IconButton \r\n                          size=\"small\" \r\n                          onClick={() => handleDeleteLocation(location.name)}\r\n                          color=\"error\"\r\n                        >\r\n                          <Delete />\r\n                        </IconButton>\r\n                      </ListItemSecondaryAction>\r\n                    </ListItem>\r\n                  );\r\n                })}\r\n                {locations.length === 0 && (\r\n                  <ListItem>\r\n                    <ListItemText \r\n                      primary=\"No saved locations\"\r\n                      secondary=\"Click on the map or the Add button to create your first location marker\"\r\n                    />\r\n                  </ListItem>\r\n                )}\r\n              </List>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      {/* Add/Edit Location Dialog */}\r\n      <Dialog open={dialogOpen} onClose={handleCloseDialog} maxWidth=\"sm\" fullWidth>\r\n        <DialogTitle>\r\n          {editingLocation ? 'Edit Location' : 'Add New Location'}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2, mt: 1 }}>\r\n            <TextField\r\n              fullWidth\r\n              label=\"Location Name\"\r\n              value={formData.name}\r\n              onChange={(e) => setFormData({...formData, name: e.target.value})}\r\n            />\r\n            \r\n            <FormControl fullWidth>\r\n              <InputLabel>Location Type</InputLabel>\r\n              <Select\r\n                value={formData.type}\r\n                label=\"Location Type\"\r\n                onChange={(e) => setFormData({...formData, type: e.target.value as MapLocation['type']})}\r\n              >\r\n                <MenuItem value=\"hunting_spot\">Hunting Spot</MenuItem>\r\n                <MenuItem value=\"camp\">Camp</MenuItem>\r\n                <MenuItem value=\"parking\">Parking</MenuItem>\r\n                <MenuItem value=\"landmark\">Landmark</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={6}>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"Latitude\"\r\n                  type=\"number\"\r\n                  value={formData.coordinates.lat}\r\n                  onChange={(e) => setFormData({\r\n                    ...formData, \r\n                    coordinates: { ...formData.coordinates, lat: parseFloat(e.target.value) || 0 }\r\n                  })}\r\n                  inputProps={{ step: 'any' }}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"Longitude\"\r\n                  type=\"number\"\r\n                  value={formData.coordinates.lng}\r\n                  onChange={(e) => setFormData({\r\n                    ...formData, \r\n                    coordinates: { ...formData.coordinates, lng: parseFloat(e.target.value) || 0 }\r\n                  })}\r\n                  inputProps={{ step: 'any' }}\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n            \r\n            <TextField\r\n              fullWidth\r\n              label=\"Notes (optional)\"\r\n              multiline\r\n              rows={3}\r\n              value={formData.notes}\r\n              onChange={(e) => setFormData({...formData, notes: e.target.value})}\r\n            />\r\n          </Box>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleCloseDialog}>Cancel</Button>\r\n          <Button \r\n            onClick={handleAddLocation} \r\n            variant=\"contained\"\r\n            disabled={!formData.name.trim() || !formData.coordinates.lat || !formData.coordinates.lng}\r\n          >\r\n            {editingLocation ? 'Update' : 'Add'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default LocationMap;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}